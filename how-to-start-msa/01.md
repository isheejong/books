## 더도 덜도 아닌 딱 마이크로서비스


### 마이크로서비스란?
  - 비즈니스 도메인 중심이며, 마이크로서비스는 독립적이며 서로 협업 한다.
  - 독립적인 배포 가능성 (independent deployability)
  - loosely coupled
  - 비즈니스 도메인인을 중심으로 모델링

### 새로인 기술의 유혹
영롱하고 새로운 마이크로서비스 아키텍처와 함께 할 신기술을 춤겨쥐려는 유혹이 강하게 들겠지만, 절대로 그 유혹에 바져서는 안된다. 새로운 기술을 채택하는 데는 비용도 들고 다소 격변이 일게 된다.
그만큼 많은 시간과 비용을 감수해야한다. 마이크로서비스에서 핵심은 도메인의 문제를 이해하는데 집중해야한다. 그리고 나타나는 문제를 해결하고 기술을 변경하는 방식을 고려한다.

1) 먼저 익숙한 기술 스택을 활용해 문제를 이해하고, 문제를 해결하기 위해 기술 변경을 고려하는 방식
2) 마이크로서비스는 기술에 중립적이다. 쿠버네티스, 도커, 컨테이너, 퍼블릭 클라우드 등을 사용할 필요 없다. 고나 러스트 같은 프로그래밍 언어로 코딩 할 필요도 없다.
3) 실제로 마이크로서비스 아키텍처에 관한 한 프로그래밍 언어 선택은 그 다지 중요하지 않다. PHP 가 익숙하다면, PHP 로, 자바가 익숙하다면 자바로, 특정 언어나 기술이 얽매일 필요가 없다.

ooo 프로젝트를 하면서 꼭 결제를 모듈을 Typescript 와 Dynamodb 로 해야할까라는 생각이 들었다. 가장 중요한 도메인에 대한 이해가 없어, Bias 된 기술 스택을 선택하여 진행을 했는데,
복잡한 도메인 모델에서 Dynamodb 가 적합하지 않는것 같다는 느낌이 들었다. 우리는 얼마나 많은 마이크로서비스 다룰수 있는가? 여기서 발생하는 복잡성을 어떻게 대처할 수 있는지가 중요하다. 그리고 경계를 잘 나누는 것이 중요하다.

### 결합도와 응집도
  * 결합도란 한 가지를 바꾸면 다른 곳도 바꿀 필요가 있는 경우,
	- 구현 결합도
	- 시간 결합도
	- 배포 결합도
	- 도메인 결합도
  * 응집된 관련된 코드를 그룹으로 묶는 방식 "함께 바뀌고 함께 머무는 코드"

### 도메인 드리븐 디자인

결국 마이크로서비스를 기반으로 아키텍처를 디자인 한다는 것은, 첫째도 둘째도 도메인을 잘 이해하는 것 부터 시작해야한다. 해결하고자 하는 문제점이 무엇인지 정확하게 이해하고 도메인을 모델링을 
시작하는 것 부터 마이크로서비스는 시작한다. 그렇기 때문에 특정 기술이나 환경에 집착 할 필요 없다. 도메인을 잘 이해하고 결합도 낮추고 응집도 높은 아키텍처와 애플리케이션을 개발하는 것이
마이크로서비스 아키텍처이다.

이 과정에서 도메인 드리븐 디자인은 핵심 적인 전략이다. 큰 덩어리의 문제를 작은 도메인 단위로 맥락의 경계 찾는 것이 중요하며, 이를 기반으로 모델링을 하는 것이 중요하다.
